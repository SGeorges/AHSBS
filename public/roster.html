<!DOCTYPE html>
<html lang="en-us">

<head>
    <meta charset="UTF-8">
    <title>Friend-Finder Survey</title>

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <!-- Free Icons -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
    
</head>

<body>
    <div class= "container">
        <div class="jumbotron jumbotron-fluid">
            <div class= "row">
                <div class= "col-md-4">
                    <img src="../assets/images/Army_A.png">
                </div>
                <div class= "col-md-8">
                    <h3> Audubon HS Boys Soccer </h3>
                </div>
            </div>        
        </div>
    </div>

    <div class= "container">
        <nav class="navbar navbar-expand-md navbar-light bg-light">
            <div class="mx-auto order-0">
                <span class="navbar-text"><h5>2018-2019 ROSTER</h5></span>
            </div>
            <div class="navbar-collapse collapse order-3 dual-collapse2">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="#">Schedule/Results</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Statistics</a>
                    </li>
                </ul>
            </div>
        </nav>

        <hr>

        <div class= "row">
            <div class= "col-md-12">
                <table class="table table-striped">
                    <thead>
                        <tr>
                        <th scope="col">NO.</th>
                        <th scope="col">NAME</th>
                        <th scope="col">POS.</th>
                        <th scope="col">YR.</th>
                        <th scope="col">HT.</th>
                        <th scope="col">WT.</th>
                        <th scope="col">HOMETOWN</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>21</td>
                            <td><a href="#">Connor Ciccone</a></td>
                            <td>M</td>
                            <td>Sr.</td>
                            <td>5-8</td>
                            <td>130</td>
                            <td>Audubon, NJ</td>
                        </tr>
                        <tr>
                            <td>24</td>
                            <td><a href="#">Austin Carbone</a></td>
                            <td>M/B</td>
                            <td>Sr.</td>
                            <td>5-8</td>
                            <td>130</td>
                            <td>Audubon, NJ</td>
                        </tr>
                        <tr>
                            <td>13</td>
                            <td><a href="#">Sean Colbert</a></td>
                            <td>B</td>
                            <td>Sr.</td>
                            <td>5-8</td>
                            <td>130</td>
                            <td>Audubon, NJ</td>
                        </tr>
                        <tr>
                            <td>8</td>
                            <td><a href="#">Andre Scotto-DiLuzio</a></td>
                            <td>M</td>
                            <td>Sr.</td>
                            <td>5-8</td>
                            <td>130</td>
                            <td>Audubon, NJ</td>
                        </tr>
                        <tr>
                            <td>11</td>
                            <td><a href="#">Xavier Walker</a></td>
                            <td>M/B</td>
                            <td>Sr.</td>
                            <td>5-8</td>
                            <td>130</td>
                            <td>Audubon, NJ</td>
                        </tr>
                        <tr>
                            <td>0</td>
                            <td><a href="#">Brady Lord</a></td>
                            <td>G</td>
                            <td>Sr.</td>
                            <td>5-8</td>
                            <td>130</td>
                            <td>Audubon, NJ</td>
                        </tr>
                        <tr>
                            <td>10</td>
                            <td><a href="#">Joseph Scotto-DiLuzio</a></td>
                            <td>F</td>
                            <td>Jr.</td>
                            <td>5-8</td>
                            <td>130</td>
                            <td>Audubon, NJ</td>
                        </tr>
                        <tr>
                            <td>17</td>
                            <td><a href="#">Kacey Wallace</a></td>
                            <td>M</td>
                            <td>Jr.</td>
                            <td>5-0</td>
                            <td>145</td>
                            <td>Audubon, NJ</td>
                        </tr>
                        <tr>
                            <td>18</td>
                            <td><a href="#">Nick Colon</a></td>
                            <td>B</td>
                            <td>Jr.</td>
                            <td>5-8</td>
                            <td>130</td>
                            <td>Audubon, NJ</td>
                        </tr>
                        <tr>
                            <td>22</td>
                            <td><a href="#">Cooper Bantle</a></td>
                            <td>S</td>
                            <td>So.</td>
                            <td>5-8</td>
                            <td>130</td>
                            <td>Audubon, NJ</td>
                        </tr>
                        <tr>
                            <td>5</td>
                            <td><a href="#">Xavier Massey</a></td>
                            <td>M/B</td>
                            <td>So.</td>
                            <td>5-8</td>
                            <td>130</td>
                            <td>Audubon, NJ</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <p><strong>Coaching Staff</strong></p>
        <div class= "row">
            <div class= "col-md-6">
                <table class= "table table-striped">
                    <thead>
                        <tr>
                            <th scope="col">NAME</th>
                            <th scope="col">TITLE</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Mike "MR. T" Tomasetti</td>
                            <td>Head Coach</td>
                        </tr>
                        <tr>
                            <td>Andria Morrison</td>
                            <td>Assistant Coach</td>
                        </tr>
                        <tr>
                            <td>Pat Moran</td>
                            <td>Assistant Coach</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

    <div id= "results-modal" class="modal fade" role="dialog" style="display: none;">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Best Match</h4>
                    <button type="button" class="close" data-dismiss="modal">Ã—</button>
                </div>
                <div class="modal-body">
                    <h5 id= "match-name"></h5>
                    <img src= "#" alt="Best Match Image" class= "match-img">
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
</body>

<!-- JQuery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

<script type= "text/javascript">
    $("#submit").on("click", function(event) {
        event.preventDefault();

        function validateForm() {
            var isValid = true;
            $("#name-input").removeClass("is-invalid");
            $("#name-input").removeClass("is-valid");
  
            $("#photo-input").removeClass("is-invalid");
            $("#photo-input").removeClass("is-valid");
            
            if ($("#name-input").val() === "") {
                isValid = false;
                $("#name-input").addClass("is-invalid");
            }
            else {
                $("#name-input").addClass("is-valid"); 
            }

            if ($("#photo-input").val() === ""){
                isValid = false; 
                $("#photo-input").addClass("is-invalid")
            }
            else {
                $("#photo-input").addClass("is-valid")
            }

            return(isValid);
        }

        console.log(validateForm());
        console.log($("#question-1").val())

        if (validateForm()) {
            var userData = {
                name: $("#name-input").val().trim(),
                photo: $("#photo-input").val().trim(),
                scores: [
                    $("#question-1").val(),
                    $("#question-2").val(),
                    $("#question-3").val(),
                    $("#question-4").val(),
                    $("#question-5").val(),
                    $("#question-6").val(),
                    $("#question-7").val(),
                    $("#question-8").val(),
                    $("#question-9").val(),
                    $("#question-10").val()
                ]
            };
            console.log(userData);

            $.post("/api/friends", userData, function(data){

                console.log("BEST MATCH : " + data.name);
                $("#match-name").text(data.name);
                $("#match-img").attr("src", data.photo);

                $("#results-modal").modal("show");
            });
        }
    });
</script>